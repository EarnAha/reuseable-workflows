name: Read all secrets

on:
  workflow_call:
    #inputs:
    outputs:
      VALUES:
        description: "secrets"
        AWS_SERVICE_NAME: ${{ jobs.do.outputs.AWS_SERVICE_NAME }}
    #secrets:
#env:

jobs:
  do:
    runs-on: self-hosted
    steps:
      - name: Decrypt Secret Value
        id: AWS_SERVICE_NAME
        uses: benammann/git-secrets-get-secret-action@v1
        with:
          name: AWS_SERVICE_NAME
          decryptSecretName: AWS_SERVICE_NAME
          decryptSecretValue: ${{ secrets.AWS_SERVICE_NAME }}
      - name: Echo the output
        run: echo "${{ steps.AWS_SERVICE_NAME.outputs.value }}"
    outputs:
      AWS_SERVICE_NAME: ${{ steps.AWS_SERVICE_NAME.outputs.value }}
